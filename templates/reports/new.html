<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>New Post</title>

    {% load static %}
    <link rel="stylesheet" href='{% static 'material/material.min.css' %}'>
    <script src='{% static 'material/material.min.js' %}'></script>
    <link rel="stylesheet" href='{% static 'material/material-icons.css' %}'>
    <link rel="stylesheet" href='{% static 'page/styles.css' %}'>
</head>

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title> {{ post.title }}</title>

    {% load static %}
    <link rel="stylesheet" href='{% static 'page/styles.css' %}'>
    <link rel="stylesheet" href='{% static 'material/material.min.css' %}'>
    <script src='{% static 'material/material.min.js' %}'></script>
    <link rel="stylesheet" href='{% static 'material/material-icons.css' %}'>
</head>

<script>
    function change() {
        document.getElementById("release_date").value = new Date().toLocaleDateString()
    }
</script>

<body>

<div class="mdl-layout mdl-js-layout">
    {% include '_header.html' %}
    <main class="mdl-layout__content">
        <br>
        <br>
        <br>
        <div class="mdl-grid" style="text-align: center">
            <div class="mdl-cell mdl-cell--2-col mdl-cell--hide-tablet mdl-cell--hide-phone"></div>
            <div class="mdl-color--white mdl-shadow--4dp content mdl-color-text--grey-800 mdl-cell mdl-cell--8-col"
                 style="padding-left: 2vw; padding-right: 2vw;">
                <br>
                <br>

                <h3>Create New Post</h3>
                <form method="post">
                    {% csrf_token %}

                    <input class="mdl-textfield__input wide-input" id="title" name="title" placeholder="Title" required><br>
                    <textarea class="mdl-textfield__input" type="text" id="description" name="description"
                              placeholder="Description"
                              required></textarea>
                    <input class="normal-input mdl-textfield__input" id="image_link" name="image_link"
                           placeholder="Image Link">
                    <br>
                    <input class="normal-input mdl-textfield__input" id="release_date" name="release_date"
                           placeholder="Post Publishing Date"
                           required>
                    <br>
                    <input class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect" onclick="change()"
                           type="button" value="Today">
                    <br>
                    <br>

                    <button type="submit" class="mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect">
                        Create Post
                    </button>
                    <br>

                    {% if formset.errors %}
                        <p class="form-error">Unable To Create Post:</p>
                        {% for field in formset %}
                            {% for error in field.errors %}
                                <p class="form-error">{{ error|escape }}</p>
                            {% endfor %}
                        {% endfor %}
                        {% for error in formset.non_field_errors %}
                            <p class="form-error">{{ error|escape }}</p>
                        {% endfor %}
                    {% endif %}
                </form>
            <br>
            <br>
            <br>
            </div>
        </div>
    </main>
    {% include '_footer.html' %}
</div>
</body>
</html>
